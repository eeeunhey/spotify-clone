

## 🚀 1️⃣  Lazy Loading 기본 개념

보통 웹이나 앱에서는 페이지를 켜자마자 **모든 데이터를 한꺼번에 불러오면**

* 초기 로딩이 느려지고 ⏳
* 사용자는 실제로 안 볼 데이터도 다운받게 되는 경우 발생

그래서 **“지금 필요한 것만 먼저 불러오자!”** 하는 게 **레이지 로딩**이에요.

---

## 🧠 2️⃣ 쉬운 예시

### 📸 이미지 예시

한 웹페이지에 100개의 이미지를 띄운다고 가정

* **일반 로딩:** 페이지가 열릴 때 100개 전부 다운받음
* **레이지 로딩:** 화면에 보이는 첫 10개만 로딩하고,
  스크롤할 때 나머지를 순차적으로 로딩

👉 즉, **“보일 때 불러온다”**는 개념이다!



```tsx
const AppLayout = React.lazy(()=>import('./layout/AppLayout'))
const HomePage = React.lazy(()=>import("./pages/HomePage/HomePage"))
```

---


## ⚛️ 3️⃣ React / Next.js에서의 예시

React에서는 컴포넌트를 다음처럼 **동적으로 불러올 수** 있어요:

```tsx
import React, { lazy, Suspense } from 'react';

// 🔹 컴포넌트를 미리 불러오지 않고, 필요할 때 로딩
const Chart = lazy(() => import('./Chart'));

function Dashboard() {
  return (
    <div>
      <h1>대시보드</h1>

      {/* 🔹 Chart 컴포넌트를 실제로 렌더링할 때 import됨 */}
      <Suspense fallback={<div>Loading Chart...</div>}>
        <Chart />
      </Suspense>
    </div>
  );
}
```

여기서 핵심:

* `lazy(() => import(...))` → **컴포넌트를 동적으로 import**
* `Suspense` → 로딩 중일 때 보여줄 **대체 UI**

👉 즉, **페이지를 처음 렌더링할 때 Chart.js 파일을 안 불러오고**,
실제로 `Chart` 컴포넌트가 화면에 나올 때 비로소 불러와요.

---

## 🧩 4️⃣ Next.js에서는?

Next.js는 기본적으로 **코드 스플리팅(code splitting)**을 자동으로 해줘요.
그래도 명시적으로 “이 부분만 나중에 로드하자”고 할 수도 있어요 👇

```tsx
import dynamic from 'next/dynamic';

const Chart = dynamic(() => import('../components/Chart'), {
  ssr: false, // 서버사이드 렌더링 시엔 안 불러오고, 클라이언트에서만 로드
  loading: () => <p>Loading...</p>, // 로딩 중일 때 표시할 UI
});
```

→ 이렇게 하면 **Chart 컴포넌트는 실제로 필요할 때만** 클라이언트 쪽에서 로드돼요.

---

## 🧩 5️⃣ 어디에 주로 쓰냐면

| 사용 예           | 설명                                             |
| -------------- | ---------------------------------------------- |
| 이미지 로딩         | 스크롤 시점에 맞춰 이미지 불러오기 (`<img loading="lazy" />`) |
| 모달 / 다이얼로그     | 평소엔 안 쓰다가, 클릭할 때만 import                       |
| 대형 그래프 / 차트    | 초기에 렌더링 부담 줄이기 위해 필요 시점에만 로드                   |
| 페이지 단위 코드 스플리팅 | Next.js 자동 적용                                  |

---

## ⚙️ 6️⃣ 장단점 요약

| 장점                    | 단점                  |
| --------------------- | ------------------- |
| 초기 로딩 시간 단축           | 첫 호출 시 약간의 지연 발생    |
| 트래픽 절약                | 너무 세분화하면 코드 복잡해짐    |
| UX 향상 (필요한 것만 빠르게 표시) | SEO나 SSR 환경에선 주의 필요 |

---

요약 🔎

> **레이지 로딩은 “지금 필요한 것만, 나머지는 나중에” 불러오는 방식이에요.**
-> 게으른 만큼 로딩시간이 발생할 수 있기 때문에 로딩창에 관한 처리를 해야한다


