```ts
type Track = {
    title:string, //ìŒì›ì´ë¦„
    releaseDate:string, // ìŒì› ë°œë§¤ì¼
}

type Artist = {
    name:string.  // ê°€ìˆ˜ì´ë¦„
    releaseDate:sring, // ë°ë·”ë‚ ì§œ
}

function getName(rresult:Track|Artist) {
    if("title" in result ) return result.title

    if("name" in result) return result.name
}
//í•„ë“œë¥¼ í†µí•´ì„œ ë¬´ìŠ¨ ê°’ì¸ì§€ í™•ì¸í•  ìˆ˜ ìˆë‹¤

```

4. is íƒ€ì… ì§€ì •í•˜ê¸°

íƒ€ì… ê°€ë“œ í•¨ìˆ˜ë¼ê³  í•œë‹¤


```ts

funtion íƒ€ì…ê°€ë“œ(ë³€ìˆ˜: any):ë³€ìˆ˜ is íŠ¹ì§•íƒ€ì… {
    return ì¡°ê±´ì‹;
}

```

ë¬´ì €ê±´ Track ì„ ë°˜í™˜í•˜ê²Œ í•œë‹¤
as ì„ì‹œë¡œ ê°€ì •í•œë‹¤ë¼ëŠ” ì˜ë¯¸ë¡œ ì“°ì¸ë‹¤
â¡ï¸ â€œresult ì•ˆì— titleì´ ì—†ìœ¼ë©´ true ë°˜í™˜â€.
í•˜ì§€ë§Œ ì´ê±´ â€œTrackì´ ì•„ë‹ˆë‹¤â€ ë¼ëŠ” ëœ»ì´ì—ìš”. Track ì•„ë‹Œê±¸ë¡œ ë°˜í™˜(Artist)
(Trackì´ë©´ titleì´ ìˆì–´ì•¼ í•˜ë‹ˆê¹Œ.)

â¡ï¸ result ì•ˆì— titleì´ ìˆìœ¼ë©´ true ë°˜í™˜
return (result as Track).title !== undefined; â†’ âœ… â€œTrackì´ ë§ë‹¤â€ë¥¼ ë°˜í™˜

```ts
 
function isTrack(result: Track|Artist):result is Track {
    return (result as Track).title !== undefined;
}

function isArtist(result: Track|Artist):result is Artist {
    return (result as Artist).title !== undefined;
}

 
function isTrack(result: Track|Artist):result is boolean {
    return (result as Track).title !== undefined;
} // ì˜¤ë¥˜ë‚¨ í•„ë“œ ì‚¬ìš©í•  ë•Œ result í˜¸ì¶œí•  ë•Œ ë­”ì§€ ëª¨ë¦„ is Track ì•Œë ¤ì¤˜ì•¼ í•œë‹¤

function isArtist(result: Track|Artist):result is boolean {
    return (result as Artist).title !== undefined;
} // ì˜¤ë¥˜ë‚¨ 


function printInfo (result:Track|Artist) {
    if(isTrack(result)) {
        console.log(result.title)
    } else if (isArtist(result)) {
        console.log(result.name)
    }
}

```


# 1) ìœ ë‹ˆì˜¨ íƒ€ì…ì˜ í”í•œ í•¨ì •

```ts
type Track = {
  title: string;        // ìŒì› ì´ë¦„
  releaseDate: string;  // ìŒì› ë°œë§¤ì¼
};

type Artist = {
  name: string;         // ê°€ìˆ˜ ì´ë¦„
  releaseDate: string;  // ë°ë·” ë‚ ì§œ
};

type SearchResult = Track | Artist;

// âŒ ì•„ë˜ëŠ” ì—ëŸ¬
const result: SearchResult = {
  title: "hey",
  releaseDate: "2025",
  name: "ì€í˜œ",
};
```

ì™œ ì—ëŸ¬ì¼ê¹Œ?

* ê°ì²´ ë¦¬í„°ëŸ´ì„ **ìœ ë‹ˆì˜¨ íƒ€ì…**ì— ë°”ë¡œ ëŒ€ì…í•  ë•ŒëŠ” â€œ**ì´ˆê³¼ ì†ì„± ê²€ì‚¬(Excess Property Checks)**â€ê°€ ì ìš©ë¼ì„œ,

  * `Track`ì—ëŠ” `name`ì´ ì—†ê³ ,
  * `Artist`ì—ëŠ” `title`ì´ ì—†ì–´,
* ë‘ ë©¤ë²„ ì¤‘ **ì–´ëŠ í•˜ë‚˜ì—ë„ ì •í™•íˆ ë“¤ì–´ë§ì§€ ì•Šê¸°** ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë‚˜ì™€.

> íŒ: ì´ëŸ° ê²½ìš°ì—” ê°ì²´ë¥¼ ë¨¼ì € ë³„ë„ ë³€ìˆ˜ì— ë‹´ì§€ ë§ê³ , **ëª…í™•íˆ í•˜ë‚˜ì˜ íƒ€ì…**ìœ¼ë¡œ ë§ì¶”ê±°ë‚˜(ì•„ë˜ì²˜ëŸ¼ ì‹ë³„ìë¥¼ ë„£ê¸°), í˜¹ì€ as-ìºìŠ¤íŠ¸ë¡œ íšŒí”¼í•˜ì§€ ë§ê³  **íƒ€ì… ì„¤ê³„ë¥¼ ê°œì„ **í•˜ëŠ” ê²Œ ì •ì„ì´ì•¼.

---

# 2) ì‹ë³„ ê°€ëŠ¥í•œ ìœ ë‹ˆì˜¨ìœ¼ë¡œ êµ¬ì¡° ì¡ê¸° (ê¶Œì¥)

ê° ë©¤ë²„ì— ê³µí†µ í‚¤(ë³´í†µ `type`/`kind`)ì— **ë¦¬í„°ëŸ´ íƒ€ì…**ì„ ë„£ì–´ **ìŠ¤ìŠ¤ë¡œ ì •ì²´ë¥¼ ë°íˆê²Œ** ë§Œë“¤ë©´, TSê°€ ì•„ì£¼ ë˜‘ë˜‘í•˜ê²Œ ì¢í˜€ì¤˜.

```ts
type Track = {
  type: "track";        // âœ… ë¦¬í„°ëŸ´(ì‹ë³„ì)
  title: string;
  releaseDate: string;
};

type Artist = {
  type: "artist";       // âœ… ë¦¬í„°ëŸ´(ì‹ë³„ì)
  name: string;
  releaseDate: string;
};

type Radio = {
  type: "radio";        // âœ… ë¦¬í„°ëŸ´(ì‹ë³„ì)
  station: string;
};

type SearchResult = Track | Artist | Radio;
```

ì´ì œ ë°ì´í„°ëŠ” ì´ë ‡ê²Œ **ì •í™•íˆ í•˜ë‚˜ì˜ íƒ€ì…**ì„ ë§Œì¡±í•˜ë„ë¡ ë§Œë“ ë‹¤:

```ts
const a: SearchResult = {
  type: "track",
  title: "hey",
  releaseDate: "2025",
}; // âœ… OK

const b: SearchResult = {
  type: "artist",
  name: "ì€í˜œ",
  releaseDate: "2025",
}; // âœ… OK
```

---

# 3) ì•ˆì „í•œ ë¶„ê¸° + â€œë¹ ì§ì—†ì´â€ ì²˜ë¦¬í•˜ê¸° (exhaustive check)

ì´ë¯¸ì§€ì— ìˆë˜ `getTypeName`ì„ **switch + never** íŒ¨í„´ìœ¼ë¡œ ë‹¨ë‹¨í•˜ê²Œ ë°”ê¿”ë³´ì.

```ts
function getTypeName(result: SearchResult) {
  switch (result.type) {
    case "track":
      return "íŠ¸ë™";
    case "artist":
      return "ì•„í‹°ìŠ¤íŠ¸";
    case "radio":
      return "ë¼ë””ì˜¤";
    default:
      // ğŸ‘‡ ì—¬ê¸°ì— ë„ë‹¬í•˜ë©´ ìœ ë‹ˆì˜¨ ë©¤ë²„ê°€ ëˆ„ë½ëœ ê²ƒ
      return exhaustiveCheck(result);
  }
}

function exhaustiveCheck(x: never): never {
  // ìƒˆ ë©¤ë²„ë¥¼ ì¶”ê°€í–ˆëŠ”ë° switchì— caseë¥¼ ì•ˆ ì“°ë©´ ì—¬ê¸°ì„œ ì»´íŒŒì¼ ì—ëŸ¬ ë°œìƒ
  throw new Error("Unhandled union member");
}
```

í¬ì¸íŠ¸:

* `switch (result.type)`ë¡œ **ìë™ ì¢íˆê¸°**ê°€ ëœë‹¤.
* `default`ì—ì„œ `never`ë¥¼ ìš”êµ¬í•˜ë¯€ë¡œ, ë‚˜ì¤‘ì— `Podcast` ê°™ì€ ìƒˆ ë©¤ë²„ë¥¼ ì¶”ê°€í•˜ê³  **caseë¥¼ ë¹¼ë¨¹ìœ¼ë©´ ì»´íŒŒì¼ ë‹¨ê³„ì—ì„œ ë°”ë¡œ ê²½ê³ **í•´ì¤˜ì„œ ë²„ê·¸ë¥¼ ì¤„ì—¬ì¤€ë‹¤.
* ì´ë¯¸ì§€ ì† `if/else` êµ¬ì¡°ë„ ê°€ëŠ¥í•˜ì§€ë§Œ, **`switch + never`** ì¡°í•©ì´ ê°€ì¥ ì½ê¸° ì‰½ê³  ë¹ ì§ì—†ë‹¤.

---

# 4) ê³µí†µ í•„ë“œ/ê°œë³„ í•„ë“œ ì ‘ê·¼ ê·œì¹™

* `releaseDate`ì²˜ëŸ¼ **ê³µí†µ í•„ë“œ**ëŠ” ë°”ë¡œ ì¨ë„ ëœë‹¤.
* `title`(Track ì „ìš©) / `name`(Artist ì „ìš©)ì²˜ëŸ¼ **ê°œë³„ í•„ë“œ**ëŠ” **ì¢íŒ ë’¤ì—ë§Œ** ì ‘ê·¼í•´ì•¼ í•œë‹¤.

```ts
function printMainLine(r: SearchResult) {
  // ê³µí†µ í•„ë“œ OK
  // console.log(r.releaseDate); // Track/Artistì—” ìˆì§€ë§Œ Radioì—ëŠ” ì—†ìœ¼ë‹ˆ ê³µí†µìœ¼ë¡œ ì“°ë ¤ë©´ íƒ€ì…ì„ ë°”ë¥´ê²Œ ì„¤ê³„í•´ì•¼ í•¨(ì˜ˆ: Partial ê³µí†µ, ë˜ëŠ” ë©¤ë²„ë³„ ë¶„ê¸°)

  if (r.type === "track") {
    console.log(`ê³¡: ${r.title}`);
  } else if (r.type === "artist") {
    console.log(`ê°€ìˆ˜: ${r.name}`);
  } else {
    console.log(`ë¼ë””ì˜¤: ${r.station}`);
  }
}
```

> ê³µí†µ í•„ë“œê°€ ì§„ì§œë¡œ ëª¨ë“  ë©¤ë²„ì— ì¡´ì¬í•´ì•¼ â€œë°”ë¡œ ì ‘ê·¼â€ì´ ê°€ëŠ¥í•´. ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ **ë¶„ê¸° í›„ ì ‘ê·¼**ì´ ì•ˆì „í•´.

---

# 5) ë‹¤ë¥¸ ì¢íˆê¸° ê¸°ë²•ë“¤ (ë³´ë„ˆìŠ¤)

* **in ì—°ì‚°ì**

  ```ts
  function isTrack(x: SearchResult): x is Track {
    return "title" in x;
  }
  ```
* **ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ**

  ```ts
  const isArtist = (x: SearchResult): x is Artist => x.type === "artist";
  ```
* **íŒë³„ í‚¤ ì´ë¦„**ì€ `type`, `kind`, `category` ë“± ì•„ë¬´ê±°ë‚˜ ê°€ëŠ¥í•˜ì§€ë§Œ íŒ€ì—ì„œ **ì»¨ë²¤ì…˜**ì„ ì •í•´ë‘ë©´ ì¢‹ì•„.

---

# 6) ìš”ì•½ í…œí”Œë¦¿ (ì¹´í”¼í•´ì„œ ê·¸ëŒ€ë¡œ ì“°ê¸°)

```ts
// 1) íƒ€ì… ì •ì˜
type A = { type: "a"; /* ... */ };
type B = { type: "b"; /* ... */ };
type C = { type: "c"; /* ... */ };

type U = A | B | C;

// 2) ìƒì„± ì˜ˆì‹œ
const u1: U = { type: "a", /* ... */ };

// 3) ì•ˆì „í•œ ë¶„ê¸°
function handle(u: U) {
  switch (u.type) {
    case "a":
      // uëŠ” Aë¡œ ì¢í˜€ì§
      return;
    case "b":
      // uëŠ” Bë¡œ ì¢í˜€ì§
      return;
    case "c":
      // uëŠ” Cë¡œ ì¢í˜€ì§
      return;
    default:
      return exhaustiveCheck(u); // never
  }
}

function exhaustiveCheck(x: never): never {
  throw new Error("Unhandled union member");
}
```

---

